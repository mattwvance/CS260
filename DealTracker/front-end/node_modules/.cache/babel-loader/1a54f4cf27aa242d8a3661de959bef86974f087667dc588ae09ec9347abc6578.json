{"ast":null,"code":"import _defineProperty from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Navigate}from'react-router-dom';import axios from'axios';import'bootstrap/dist/css/bootstrap.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);_this=_super.call(this);_this.state={username:'',password:'',redirectTo:null};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginForm,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();axios.post('/user/login',{username:this.state.username,password:this.state.password}).then(function(response){if(response.status===200){_this2.props.updateUser({loggedIn:true,username:response.data.username});_this2.setState({redirectTo:'/'});}}).catch(function(error){alert('User Does Not Exist');console.log('login error: ');console.log(error);});}},{key:\"render\",value:function render(){if(this.state.redirectTo){return/*#__PURE__*/_jsx(Navigate,{to:{pathname:this.state.redirectTo}});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{class:\"form-horizontal\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-input\",type:\"text\",id:\"username\",name:\"username\",placeholder:\"Username\",value:this.state.username,onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-input\",placeholder:\"password\",type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group \",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",onClick:this.handleSubmit,type:\"submit\",children:\"Login\"})})]})]});}}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"names":["React","Component","Navigate","axios","LoginForm","state","username","password","redirectTo","handleSubmit","bind","handleChange","event","setState","target","name","value","preventDefault","post","then","response","status","props","updateUser","loggedIn","data","catch","error","alert","console","log","pathname"],"sources":["/home/ubuntu/environment/public_html/DealTracker/front-end/src/components/login-form.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nclass LoginForm extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: '',\n            password: '',\n            redirectTo: null\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        axios.post('/user/login', {\n            username: this.state.username,\n            password: this.state.password\n        }).then(response => {\n            if (response.status === 200) {\n                this.props.updateUser({\n                    loggedIn: true,\n                    username: response.data.username\n                });\n                this.setState({\n                    redirectTo: '/'\n                });\n            }\n        }).catch(error => {\n            alert('User Does Not Exist');\n            console.log('login error: ');\n            console.log(error);\n            \n        });\n    }\n\n    render() {\n        if (this.state.redirectTo) {\n            return <Navigate to={{ pathname: this.state.redirectTo }} />;\n        } else {\n            return (\n                <div>\n                    <h4>Login</h4>\n                    <form class=\"form-horizontal\">\n                        <div class=\"form-group\">\n                            <label class=\"form-label\" htmlFor=\"username\">Username:</label>\n                            <input class=\"form-input\"\n                                type=\"text\"\n                                id=\"username\"\n                                name=\"username\"\n                                placeholder=\"Username\"\n                                value={this.state.username}\n                                onChange={this.handleChange}\n                            />\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\" htmlFor=\"password\">Password: </label>\n                            <input class=\"form-input\"\n                                placeholder=\"password\"\n                                type=\"password\"\n                                name=\"password\"\n                                value={this.state.password}\n                                onChange={this.handleChange}\n                            />\n                        </div>\n                        <div class=\"form-group \">\n                            <button\n                                class=\"btn btn-primary\"\n                                onClick={this.handleSubmit}\n                                type=\"submit\">Login</button>\n                        </div>\n                    </form>\n                </div>\n            );\n        }\n    }\n}\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}