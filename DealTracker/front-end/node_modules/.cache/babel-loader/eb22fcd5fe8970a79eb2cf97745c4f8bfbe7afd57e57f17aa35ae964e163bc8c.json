{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{Routes,Route}from'react-router-dom';var fetch=require('node-fetch');// import fetch from 'node-fetch';\n// components\nimport Signup from'./components/sign-up';import LoginForm from'./components/login-form';import Navbar from'./components/navbar';import Home from'./components/home';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var options={method:'GET',headers:{accept:'application/json'}};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={loggedIn:false,username:null};_this.getUser=_this.getUser.bind(_assertThisInitialized(_this));_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.updateUser=_this.updateUser.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.getUser();case 1:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"updateUser\",value:function updateUser(userObject){this.setState(userObject);}},{key:\"getUser\",value:function(){var _getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _this2=this;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:axios.get('/user/').then(function(response){console.log('Get user response: ');console.log(response.data);if(response.data.user){console.log('Get User: There is a user saved in the server session: ');_this2.setState({loggedIn:true,username:response.data.user.username});}else{console.log('Get user: no user');_this2.setState({loggedIn:false,username:null});}});case 1:case\"end\":return _context2.stop();}}},_callee2);}));function getUser(){return _getUser.apply(this,arguments);}return getUser;}()},{key:\"getAllGames\",value:function(){var _getAllGames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('https://www.cheapshark.com/api/1.0/deals?',options);case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;console.log(data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));function getAllGames(){return _getAllGames.apply(this,arguments);}return getAllGames;}()},{key:\"getStores\",value:function(){var _getStores=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('https://www.cheapshark.com/api/1.0/stores');case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;console.log(data);case 7:case\"end\":return _context4.stop();}}},_callee4);}));function getStores(){return _getStores.apply(this,arguments);}return getStores;}()},{key:\"getGame\",value:function(){var _getGame=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(title){var response,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch('https://www.cheapshark.com/api/1.0/games?title='+title);case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:data=_context5.sent;console.log(data);case 7:case\"end\":return _context5.stop();}}},_callee5);}));function getGame(_x){return _getGame.apply(this,arguments);}return getGame;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{updateUser:this.updateUser,loggedIn:this.state.loggedIn}),this.state.loggedIn&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Join the party, \",this.state.username,\"!\"]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/games\",element:/*#__PURE__*/_jsx(Games,{updateUser:this.updateUser})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{updateUser:this.updateUser})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})})]})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"names":["React","Component","axios","Routes","Route","fetch","require","Signup","LoginForm","Navbar","Home","options","method","headers","accept","App","state","loggedIn","username","getUser","bind","componentDidMount","updateUser","userObject","setState","get","then","response","console","log","data","user","json","title"],"sources":["/home/ubuntu/environment/public_html/DealTracker/front-end/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Routes, Route} from 'react-router-dom';\nconst fetch = require('node-fetch');\n// import fetch from 'node-fetch';\n// components\nimport Signup from './components/sign-up';\nimport LoginForm from './components/login-form';\nimport Navbar from './components/navbar';\nimport Home from './components/home';\nconst options = {method: 'GET', headers: {accept: 'application/json'}};\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      username: null\n    };\n\n    this.getUser = this.getUser.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n  }\n\n  async componentDidMount() {\n    this.getUser();\n  }\n\n  updateUser(userObject) {\n    this.setState(userObject);\n  }\n\n  async getUser() {\n    axios.get('/user/').then(response => {\n      console.log('Get user response: ');\n      console.log(response.data);\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ');\n\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username\n        });\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null\n        });\n      }\n    });\n  }\n  \n  async getAllGames() {\n    const response = await fetch('https://www.cheapshark.com/api/1.0/deals?', options);\n    const data = await response.json();\n    console.log(data);\n  }\n  \n  async getStores() {\n    const response = await fetch('https://www.cheapshark.com/api/1.0/stores');\n    const data = await response.json();\n    console.log(data);\n  }\n  \n  async getGame(title) {\n    const response = await fetch('https://www.cheapshark.com/api/1.0/games?title=' + title);\n    const data = await response.json();\n    console.log(data);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n   \n        <Navbar updateUser={this.updateUser} loggedIn={this.state.loggedIn} />\n        {/* greet user if logged in: */}\n        {this.state.loggedIn &&\n          <p>Join the party, {this.state.username}!</p>\n        }\n        {/* Routes to different components */}\n        \n        <Routes>\n          <Route exact path=\"/\" element={<Home/>}/>\n          <Route path='/games' element={<Games updateUser={this.updateUser}/>}/>\n          <Route path=\"/login\" element={<LoginForm updateUser={this.updateUser}/>}/>\n          <Route path=\"/signup\" element={<Signup/>}/>\n        </Routes>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}