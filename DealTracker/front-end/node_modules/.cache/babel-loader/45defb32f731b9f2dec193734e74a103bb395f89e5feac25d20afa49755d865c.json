{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{Routes,Route}from'react-router-dom';import fetch from'node-fetch';// components\nimport Signup from'./components/sign-up';import LoginForm from'./components/login-form';import Menu from'./components/navbar';import Home from'./components/home';import Games from'./components/games';import Footer from'./components/footer';import Info from'./components/info';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var options={method:'GET',headers:{accept:'application/json'}};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={loggedIn:false,username:null,allStores:null,game:null};_this.getUser=_this.getUser.bind(_assertThisInitialized(_this));_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.updateUser=_this.updateUser.bind(_assertThisInitialized(_this));_this.setGame=_this.setGame.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _this2=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.getUser();case 2:_context.next=4;return fetch('https://www.cheapshark.com/api/1.0/stores',options).then(function(response){return response.json();}).then(function(storeList){_this2.setState({allStores:storeList},function(){console.log(_this2.state.allStores);});});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"updateUser\",value:function updateUser(userObject){this.setState(userObject);}},{key:\"setGame\",value:function setGame(newGame){this.setState({game:newGame});}},{key:\"getUser\",value:function(){var _getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _this3=this;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:axios.get('/user/').then(function(response){if(response.data.user){_this3.setState({loggedIn:true,username:response.data.user.username});}else{_this3.setState({loggedIn:false,username:null});}});case 1:case\"end\":return _context2.stop();}}},_callee2);}));function getUser(){return _getUser.apply(this,arguments);}return getUser;}()},{key:\"getGame\",value:function(){var _getGame=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(title){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('https://www.cheapshark.com/api/1.0/games?title='+title);case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;case 6:case\"end\":return _context3.stop();}}},_callee3);}));function getGame(_x){return _getGame.apply(this,arguments);}return getGame;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"App\",children:[/*#__PURE__*/_jsx(Menu,{updateUser:this.updateUser,loggedIn:this.state.loggedIn}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{username:this.state.username,loggedIn:this.state.loggedIn,setGame:this.setGame,allStores:this.state.allStores})}),/*#__PURE__*/_jsx(Route,{path:\"/games\",element:/*#__PURE__*/_jsx(Games,{username:this.state.username,allStores:this.state.allStores})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{updateUser:this.updateUser})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"info\",element:/*#__PURE__*/_jsx(Info,{game:this.state.game})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"names":["React","Component","axios","Routes","Route","fetch","Signup","LoginForm","Menu","Home","Games","Footer","Info","options","method","headers","accept","App","state","loggedIn","username","allStores","game","getUser","bind","componentDidMount","updateUser","setGame","then","response","json","storeList","setState","console","log","userObject","newGame","get","data","user","title"],"sources":["/home/ubuntu/environment/public_html/DealTracker/front-end/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Routes, Route} from 'react-router-dom';\nimport fetch from 'node-fetch';\n// components\nimport Signup from './components/sign-up';\nimport LoginForm from './components/login-form';\nimport Menu from './components/navbar';\nimport Home from './components/home';\nimport Games from './components/games';\nimport Footer from './components/footer';\nimport Info from './components/info';\nconst options = {method: 'GET', headers: {accept: 'application/json'}};\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      username: null,\n      allStores: null,\n      game: null\n    };\n\n    this.getUser = this.getUser.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n    this.setGame = this.setGame.bind(this);\n  }\n\n  async componentDidMount() {\n    await this.getUser();\n    \n    await fetch('https://www.cheapshark.com/api/1.0/stores', options)\n    .then((response) => response.json())\n    .then(storeList => {\n      this.setState({ allStores: storeList }, () => { console.log(this.state.allStores) });\n    });\n  }\n\n  updateUser(userObject) {\n    this.setState(userObject);\n  }\n  \n  setGame(newGame) {\n    this.setState({ game: newGame });\n  }\n\n  async getUser() {\n    axios.get('/user/').then(response => {\n      if (response.data.user) {\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username\n        });\n      } else {\n        this.setState({\n          loggedIn: false,\n          username: null\n        });\n      }\n    });\n  }\n  \n  async getGame(title) {\n    const response = await fetch('https://www.cheapshark.com/api/1.0/games?title=' + title);\n    const data = await response.json();\n  }\n\n  render() {\n    return (\n      <div class=\"App\">\n        <Menu updateUser={this.updateUser} loggedIn={this.state.loggedIn} />\n        <Routes>\n          <Route exact path=\"/\" element={<Home username={this.state.username} loggedIn={this.state.loggedIn} setGame={this.setGame} allStores={this.state.allStores}/>}/>\n          <Route path='/games' element={<Games username={this.state.username} allStores={this.state.allStores}/>}/>\n          <Route path=\"/login\" element={<LoginForm updateUser={this.updateUser}/>}/>\n          <Route path=\"/signup\" element={<Signup/>}/>\n          <Route path='info' element={<Info game={this.state.game}/>}/>\n        </Routes>\n        <Footer/>\n        \n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}