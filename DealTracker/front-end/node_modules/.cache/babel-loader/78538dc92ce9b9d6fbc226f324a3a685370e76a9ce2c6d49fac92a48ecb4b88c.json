{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';// import GameList from './shared/game-list';\nimport axios from'axios';import'./home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Games=/*#__PURE__*/function(_Component){_inherits(Games,_Component);var _super=_createSuper(Games);function Games(){var _this;_classCallCheck(this,Games);_this=_super.call(this);_this.state={games:null};// this.getUser = this.getUser.bind(this);\n// this.componentDidMount = this.componentDidMount.bind(this);\n// this.updateUser = this.updateUser.bind(this);\n_this.fetchWishlist=_this.fetchWishlist.bind(_assertThisInitialized(_this));return _this;}_createClass(Games,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(this.props.username);this.fetchWishlist();// this.getUser();\ncase 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()// async getUser() {\n//   axios.get('/user/').then(response => {\n//     console.log('Get user response: ');\n//     console.log(response.data);\n//     if (response.data.user) {\n//       console.log('Get User: There is a user saved in the server session: ');\n//       this.setState({\n//         loggedIn: true,\n//         username: response.data.user.username\n//       });\n//     } else {\n//       console.log('Get user: no user');\n//       this.setState({\n//         loggedIn: false,\n//         username: null\n//       });\n//     }\n//   });\n// }\n},{key:\"fetchWishlist\",value:function(){var _fetchWishlist=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _this2=this;var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get('/game/',this.props.username);case 3:response=_context2.sent;response=response.json();this.setState({games:response},function(){console.log(_this2.state.games);});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,this,[[0,8]]);}));function fetchWishlist(){return _fetchWishlist.apply(this,arguments);}return fetchWishlist;}()},{key:\"render\",value:function render(){var _this$state$games;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"list-wrapper\",children:(_this$state$games=this.state.games)===null||_this$state$games===void 0?void 0:_this$state$games.map(function(game){return/*#__PURE__*/_jsxs(\"div\",{class:\"game-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"game\",class:\"image-style\",src:game.thumb}),/*#__PURE__*/_jsx(\"p\",{children:game.salePrice}),/*#__PURE__*/_jsx(\"p\",{class:\"strike\",children:game.normalPrice})]});})})});}}]);return Games;}(Component);export{Games as default};","map":{"version":3,"names":["React","Component","axios","Games","state","games","fetchWishlist","bind","console","log","props","username","get","response","json","setState","map","game","thumb","salePrice","normalPrice"],"sources":["/home/ubuntu/environment/public_html/DealTracker/front-end/src/components/games.js"],"sourcesContent":["import React, { Component } from 'react';\n// import GameList from './shared/game-list';\nimport axios from 'axios';\nimport './home.css';\n\nexport default class Games extends Component {\n  \n  constructor() {\n    super();\n    this.state = {\n      games: null\n    };\n\n    // this.getUser = this.getUser.bind(this);\n    // this.componentDidMount = this.componentDidMount.bind(this);\n    // this.updateUser = this.updateUser.bind(this);\n    this.fetchWishlist = this.fetchWishlist.bind(this);\n  }\n  \n  async componentDidMount() {\n    console.log(this.props.username);\n    this.fetchWishlist();\n    // this.getUser();\n  }\n  \n  // async getUser() {\n  //   axios.get('/user/').then(response => {\n  //     console.log('Get user response: ');\n  //     console.log(response.data);\n  //     if (response.data.user) {\n  //       console.log('Get User: There is a user saved in the server session: ');\n\n  //       this.setState({\n  //         loggedIn: true,\n  //         username: response.data.user.username\n  //       });\n  //     } else {\n  //       console.log('Get user: no user');\n  //       this.setState({\n  //         loggedIn: false,\n  //         username: null\n  //       });\n  //     }\n  //   });\n  // }\n  \n  async fetchWishlist() {\n    try {\n      let response = await axios.get('/game/', this.props.username);\n      response = response.json();\n      this.setState({ games: response }, () => { console.log(this.state.games) });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <div class='list-wrapper'>\n          {this.state.games?.map(game => (\n            <div class='game-wrapper'>\n              <img alt='game' class='image-style' src={game.thumb}/>\n              <p>{game.salePrice}</p>\n              <p class='strike'>{game.normalPrice}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n }\n}"],"mappings":"ggCAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC;AACA,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAO,YAAY,CAAC,2FAECC,MAAK,8FAExB,gBAAc,uCACZ,wBACA,MAAKC,KAAK,CAAG,CACXC,KAAK,CAAE,IACT,CAAC,CAED;AACA;AACA;AACA,MAAKC,aAAa,CAAG,MAAKA,aAAa,CAACC,IAAI,+BAAM,CAAC,aACrD,CAAC,+IAED,qIACEC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAC,CAChC,IAAI,CAACL,aAAa,EAAE,CACpB;AAAA,2DACD,6GAED;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,qHAEA,+MAEyBJ,MAAK,CAACU,GAAG,CAAC,QAAQ,CAAE,IAAI,CAACF,KAAK,CAACC,QAAQ,CAAC,QAAzDE,QAAQ,gBACZA,QAAQ,CAAGA,QAAQ,CAACC,IAAI,EAAE,CAC1B,IAAI,CAACC,QAAQ,CAAC,CAAEV,KAAK,CAAEQ,QAAS,CAAC,CAAE,UAAM,CAAEL,OAAO,CAACC,GAAG,CAAC,MAAI,CAACL,KAAK,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,mFAE5EG,OAAO,CAACC,GAAG,cAAO,CAAC,sEAEtB,uHAED,iBAAS,uBACP,mBACE,kCACE,YAAK,KAAK,CAAC,cAAc,6BACtB,IAAI,CAACL,KAAK,CAACC,KAAK,4CAAhB,kBAAkBW,GAAG,CAAC,SAAAC,IAAI,qBACzB,aAAK,KAAK,CAAC,cAAc,wBACvB,YAAK,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,GAAG,CAAEA,IAAI,CAACC,KAAM,EAAE,cACtD,mBAAID,IAAI,CAACE,SAAS,EAAK,cACvB,UAAG,KAAK,CAAC,QAAQ,UAAEF,IAAI,CAACG,WAAW,EAAK,GACpC,EACP,CAAC,EACE,EACF,CAEX,CAAC,mBAjEiCnB,SAAS,SAAvBE,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}