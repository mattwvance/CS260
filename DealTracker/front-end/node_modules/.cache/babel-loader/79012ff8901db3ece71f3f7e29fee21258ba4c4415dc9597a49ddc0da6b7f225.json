{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{Routes,Route}from'react-router-dom';import fetch from'node-fetch';// components\nimport Signup from'./components/sign-up';import LoginForm from'./components/login-form';import Menu from'./components/navbar';import Home from'./components/home';import Games from'./components/games';import Footer from'./components/footer';import Info from'./components/info';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={loggedIn:false,username:null,game:null};_this.getUser=_this.getUser.bind(_assertThisInitialized(_this));_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.updateUser=_this.updateUser.bind(_assertThisInitialized(_this));_this.setGame=_this.setGame.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.getUser();case 1:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"updateUser\",value:function updateUser(userObject){this.setState(userObject);}},{key:\"setGame\",value:function setGame(newGame){this.setState({game:newGame});}},{key:\"getUser\",value:function(){var _getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _this2=this;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:axios.get('/user/').then(function(response){if(response.data.user){_this2.setState({loggedIn:true,username:response.data.user.username});}else{_this2.setState({loggedIn:false,username:null});}});case 1:case\"end\":return _context2.stop();}}},_callee2);}));function getUser(){return _getUser.apply(this,arguments);}return getUser;}()},{key:\"getGame\",value:function(){var _getGame=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(title){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('https://www.cheapshark.com/api/1.0/games?title='+title);case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;case 6:case\"end\":return _context3.stop();}}},_callee3);}));function getGame(_x){return _getGame.apply(this,arguments);}return getGame;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"App\",children:[/*#__PURE__*/_jsx(Menu,{updateUser:this.updateUser,loggedIn:this.state.loggedIn}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{username:this.state.username,loggedIn:this.state.loggedIn,setGame:this.setGame})}),/*#__PURE__*/_jsx(Route,{path:\"/games\",element:/*#__PURE__*/_jsx(Games,{username:this.state.username})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{updateUser:this.updateUser})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"info\",element:/*#__PURE__*/_jsx(Info,{game:this.state.game})})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"names":["React","Component","axios","Routes","Route","fetch","Signup","LoginForm","Menu","Home","Games","Footer","Info","App","state","loggedIn","username","game","getUser","bind","componentDidMount","updateUser","setGame","userObject","setState","newGame","get","then","response","data","user","title","json"],"sources":["/home/ubuntu/environment/public_html/DealTracker/front-end/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Routes, Route} from 'react-router-dom';\nimport fetch from 'node-fetch';\n// components\nimport Signup from './components/sign-up';\nimport LoginForm from './components/login-form';\nimport Menu from './components/navbar';\nimport Home from './components/home';\nimport Games from './components/games';\nimport Footer from './components/footer';\nimport Info from './components/info';\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      username: null,\n      game: null\n    };\n\n    this.getUser = this.getUser.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n    this.setGame = this.setGame.bind(this);\n  }\n\n  async componentDidMount() {\n    this.getUser();\n  }\n\n  updateUser(userObject) {\n    this.setState(userObject);\n  }\n  \n  setGame(newGame) {\n    this.setState({ game: newGame });\n  }\n\n  async getUser() {\n    axios.get('/user/').then(response => {\n      if (response.data.user) {\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username\n        });\n      } else {\n        this.setState({\n          loggedIn: false,\n          username: null\n        });\n      }\n    });\n  }\n  \n  async getGame(title) {\n    const response = await fetch('https://www.cheapshark.com/api/1.0/games?title=' + title);\n    const data = await response.json();\n  }\n\n  render() {\n    return (\n      <div class=\"App\">\n        <Menu updateUser={this.updateUser} loggedIn={this.state.loggedIn} />\n        <Routes>\n          <Route exact path=\"/\" element={<Home username={this.state.username} loggedIn={this.state.loggedIn} setGame={this.setGame}/>}/>\n          <Route path='/games' element={<Games username={this.state.username}/>}/>\n          <Route path=\"/login\" element={<LoginForm updateUser={this.updateUser}/>}/>\n          <Route path=\"/signup\" element={<Signup/>}/>\n          <Route path='info' element={<Info game={this.state.game}/>}/>\n        </Routes>\n        <Footer/>\n        \n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}