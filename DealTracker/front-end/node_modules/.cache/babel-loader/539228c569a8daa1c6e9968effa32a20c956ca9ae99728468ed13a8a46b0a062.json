{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/ubuntu/environment/public_html/DealTracker/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import fetch from'node-fetch';// components\nimport GameList from'./shared/game-list';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var options={method:'GET',headers:{accept:'application/json'}};var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);// const [games, setGames] = useState([]);\n// const [error, setError] = useState('');\n// useEffect(() => {\n//   getAllGames();\n// },[]);\n// useEffect(() => {\n//   setTimeout(() => setError(''), 10000);\n// }, [error])\nfunction Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.state={games:[],error:null};_this.getAllGames=_this.getAllGames.bind(_assertThisInitialized(_this));return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.getAllGames();case 2:console.log(this.state);case 3:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getAllGames\",value:function(){var _getAllGames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('https://www.cheapshark.com/api/1.0/deals?',options);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;this.setState({games:data,error:null});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);this.setState({games:[],error:'Error finding discounts: '+_context2.t0});case 13:case\"end\":return _context2.stop();}}},_callee2,this,[[0,10]]);}));function getAllGames(){return _getAllGames.apply(this,arguments);}return getAllGames;}()},{key:\"render\",value:function render(){var imageStyle={width:400};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"It's good to be home\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"foo\",style:imageStyle,src:\"https://i.ytimg.com/vi/N1icEHtgb3g/maxresdefault.jpg\"})]});}}]);return Home;}(Component);export{Home as default};","map":{"version":3,"names":["React","Component","fetch","GameList","options","method","headers","accept","Home","state","games","error","getAllGames","bind","console","log","response","json","data","setState","imageStyle","width"],"sources":["/home/ubuntu/environment/public_html/DealTracker/front-end/src/components/home.js"],"sourcesContent":["import React, { Component } from 'react';\nimport fetch from 'node-fetch';\n// components\nimport GameList from './shared/game-list';\n\nconst options = {method: 'GET', headers: {accept: 'application/json'}};\n\nexport default class Home extends Component {\n\n\n  // const [games, setGames] = useState([]);\n  // const [error, setError] = useState('');\n  \n  // useEffect(() => {\n  //   getAllGames();\n  // },[]);\n  \n  // useEffect(() => {\n  //   setTimeout(() => setError(''), 10000);\n  // }, [error])\n  \n  constructor() {\n    super();\n    this.state = {\n      games: [],\n      error: null\n    };\n    this.getAllGames = this.getAllGames.bind(this);\n  }\n  \n  async componentDidMount() {\n    await this.getAllGames();\n    console.log(this.state);\n  }\n  \n  async getAllGames() {\n    try {\n      const response = await fetch('https://www.cheapshark.com/api/1.0/deals?', options);\n      const data = await response.json();\n      this.setState({ games: data, error: null });\n    } catch(err) {\n      this.setState({ games: [], error: 'Error finding discounts: ' + err });\n    }\n    // console.log(data);\n  }\n  \n  render() {\n    const imageStyle = {\n      width: 400\n    };\n    \n    return (\n    <div>\n      <p>It's good to be home</p>\n        <img alt=\"foo\" style={imageStyle} src=\"https://i.ytimg.com/vi/N1icEHtgb3g/maxresdefault.jpg\" />\n    </div>\n    );\n\n  }\n}\n"],"mappings":"ggCAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,MAAK,KAAM,YAAY,CAC9B;AACA,MAAOC,SAAQ,KAAM,oBAAoB,CAAC,wFAE1C,GAAMC,QAAO,CAAG,CAACC,MAAM,CAAE,KAAK,CAAEC,OAAO,CAAE,CAACC,MAAM,CAAE,kBAAkB,CAAC,CAAC,CAAC,GAElDC,KAAI,4FAGvB;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA,eAAc,sCACZ,wBACA,MAAKC,KAAK,CAAG,CACXC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,IACT,CAAC,CACD,MAAKC,WAAW,CAAG,MAAKA,WAAW,CAACC,IAAI,+BAAM,CAAC,aACjD,CAAC,8IAED,2JACQ,KAAI,CAACD,WAAW,EAAE,QACxBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,KAAK,CAAC,CAAC,2DACzB,8NAED,oMAE2BP,MAAK,CAAC,2CAA2C,CAAEE,OAAO,CAAC,QAA5EY,QAAQ,uCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,gBACV,IAAI,CAACC,QAAQ,CAAC,CAAET,KAAK,CAAEQ,IAAI,CAAEP,KAAK,CAAE,IAAK,CAAC,CAAC,CAAC,qFAE5C,IAAI,CAACQ,QAAQ,CAAC,CAAET,KAAK,CAAE,EAAE,CAAEC,KAAK,CAAE,2BAA2B,aAAO,CAAC,CAAC,CAAC,uEAG1E,iHAED,iBAAS,CACP,GAAMS,WAAU,CAAG,CACjBC,KAAK,CAAE,GACT,CAAC,CAED,mBACA,oCACE,2CAA2B,cACzB,YAAK,GAAG,CAAC,KAAK,CAAC,KAAK,CAAED,UAAW,CAAC,GAAG,CAAC,sDAAsD,EAAG,GAC7F,CAGR,CAAC,kBAnD+BnB,SAAS,SAAtBO,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}